<ion-header >
  <ion-toolbar style="--background: #fff;">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/inicio-tienda"></ion-back-button>
    </ion-buttons>
    <ion-title class="comprar">Comprar</ion-title>
    <ion-buttons slot="end">
      @if ( idtu == 2) {
        <ion-button routerLink="/agregar-producto">
          <ion-icon name="add" slot="end" color="red"></ion-icon>
        </ion-button>
      }
      
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content  style="--background: #fff;">
  
  <ion-grid>
    
      <ion-col size="6" *ngFor="let producto of productos">
        <div class="product-card">
          <ion-thumbnail>
            <img [src]="'http://127.0.0.1:3000/imagenes/productos/' + producto.imagen"  onerror="console.error('Error al cargar la imagen:', this.src)" />
          </ion-thumbnail>
          <a class="product-name"><strong class="product-name">Nombre:</strong> {{ producto.name }}</a>
          <a class="product-name"><strong class="product-name">Descripción:</strong> {{ producto.description }}</a>
          <a class="product-name"><strong class="product-name">Precio:</strong> ${{ producto.precio }}</a>
          <a class="product-name"><strong class="product-name">Categoría:</strong> {{ producto.categoria }}</a>
          <a class="product-name"><strong class="product-name">Stock:</strong> {{ producto.stock }}</a>
          
         <ion-button (click)="agregarAlCarrito(producto.id)"  color=""> <ion-icon name="cart-outline" routerLink="/carrito"></ion-icon></ion-button>
           
         <ion-button routerLink="/editar-producto/{{ producto.id }}" color="primary"><ion-icon name="pencil" routerLink="/carrito"></ion-icon></ion-button>

        </div>
      </ion-col>
    
  </ion-grid>
</ion-content>

<ion-tab-bar slot="bottom" slot="bottom" style="position: fixed; bottom: 0; width: 100%; z-index: 10;" style="--background: #fff;">
  <ion-tab-button tab="home">
    <ion-icon name="home" routerLink="/inicio-tienda"></ion-icon>
    <ion-label>Home</ion-label>
  </ion-tab-button>

  <ion-tab-button tab="comprar">
    <ion-icon name="add" routerLink="/catalogo"></ion-icon>
    <ion-label>Comprar</ion-label>
  </ion-tab-button>

  <ion-tab-button tab="mi-lista">
    <ion-icon name="menu"></ion-icon>
    <ion-label>Mi lista</ion-label>
  </ion-tab-button>

  <ion-tab-button tab="mi-lista">
    <ion-icon name="cart-outline" routerLink="/carrito"></ion-icon>
    <ion-label>Carrito</ion-label>
  </ion-tab-button>

 

  <ion-tab-button tab="mi-cuenta">
    <ion-icon name="person"></ion-icon>
    <a  routerLink="/person" routerLinkActive="router-link-active" ><ion-label>{{user}}</ion-label></a>
    
  </ion-tab-button>
</ion-tab-bar>
